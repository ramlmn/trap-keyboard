'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}(function(){'use strict';var a=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,a),1!==b.nodeType)return new TypeError('Provide an ElementNode');this._root=b,this._firstTabStop=null,this._lastTabStop=null,this._onKeyDown=this._onKeyDown.bind(this),this._onMutation=this._onMutation.bind(this);var d=Object.assign({},{childList:!0,attributes:!0,subtree:!0},c);this.observer=new MutationObserver(this._onMutation),this.observer.observe(this._root,d),window.addEventListener('resize',this._onMutation),this._onMutation()}return _createClass(a,[{key:'_onMutation',value:function _onMutation(){var a=Array.from(this._root.querySelectorAll(this.constructor.focusableElementsString));this._firstTabStop=this._getFocusibleElement(a),this._lastTabStop=this._getFocusibleElement(a.reverse())}},{key:'_getFocusibleElement',value:function _getFocusibleElement(a){return a.find(function(a){var b=getComputedStyle(a);return'none'!==b.display||'hidden'!==b.visibility})}},{key:'_onKeyDown',value:function _onKeyDown(a){return this._firstTabStop&&this._lastTabStop?void(9===a.keyCode&&(a.shiftKey?document.activeElement===this._firstTabStop&&(a.preventDefault(),this._lastTabStop.focus()):document.activeElement===this._lastTabStop&&(a.preventDefault(),this._firstTabStop.focus()))):void a.preventDefault()}},{key:'trap',value:function trap(){this._root.addEventListener('keydown',this._onKeyDown),this._firstTabStop?this._firstTabStop.focus():this._root.focus()}},{key:'unTrap',value:function unTrap(){this._root.removeEventListener('keydown',this._onKeyDown)}}],[{key:'focusableElementsString',get:function get(){return'a[href],area[href],button:not([disabled]),input:not([disabled]),select:not([disabled]),textarea:not([disabled]),datalist:not([disabled]),iframe,object,embed,[tabindex]:not([tabindex="-1"]),[contenteditable]'}}]),a}();'undefined'!=typeof module&&module.exports?module.exports=a:'function'==typeof define&&define.amd?define('TrapKeyboard',[],function(){return a}):self.TrapKeyboard=a})();

//# sourceMappingURL=trap-keyboard.min.js.map